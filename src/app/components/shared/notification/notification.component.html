@if(message?.text || message?.title) {
  @let bg_color_subtle = 'bg-' + main_color +'-subtle';
  @let bg_color = 'bg-' + main_color;
  @let text_color_emphasis= 'text-' + main_color +'-emphasis';

<div [ngClass]="{'collapsed': !collapsed}" class="mb-1">
  <div class="rounded-1 p1" [ngClass]="[bg_color_subtle, text_color_emphasis]">
    <div class="d-flex justify-content-between align-top">

      <span class="material-symbols-outlined type">
        {{ severity_icon }}
      </span>

      @if(message?.title) {
      <span class="title pt-1 text-break">
        {{ message?.title }}
      </span>
      <div>
        @if(collapsed) {
        <span class="material-symbols-outlined expand_content" (click)="slide()">expand_content</span>
        } @else {
        <span class="material-symbols-outlined collapse_content" (click)="slide()">collapse_content</span>
        }
      </div>
      } @else {
      <span class="title pt-1 text-break">
        {{ message?.text }}
      </span>
      }
      <span class="material-symbols-outlined close" (click)="close()">close</span>
    </div>

    @if(message?.title && !collapsed) {
    <div class="d-flex justify-content-center align-bottom p-1">
      <span [ngClass]="[bg_color_subtle, text_color_emphasis]" class="text-break" [innerHTML]="message?.text"></span>
    </div>
    }

    @if(countdownEnabled) {

    <div class="progress rounded-0 rounded-bottom-1" [ngClass]="bg_color_subtle" style="height: 3px;" >
      <div class="progress-bar" [ngClass]="bg_color" role="progressbar" [style.width.%]="progress" aria-valuemax="100"></div>
    </div>
    }
  </div>

</div>
}
