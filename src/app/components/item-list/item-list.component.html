<div class="row align-items-center top_nav_pos bg-body" [ngClass]="{ 'scrolled': isScrolled }">
    <div class="col-12 col-xxl-4 ps-0">
        <pure-topnav></pure-topnav>
    </div>
    <!--
    <div class="col-sm-1">
        <small>{{current_page}} / {{number_of_pages}}</small>
    </div>
    -->
    <nav class="col-12 col-xxl-8" purePagination #pagination="purePagination" [totalPages]="number_of_pages"
        [pageNo]="current_page" (pageChange)="onPageChange($event)">
        <!--
        <ul class="pagination pagination-sm">
            <li class="page-item" [ngClass]="{'disabled': pagination.isFirst}">
                <button class="page-link" (click)="pagination.first()" [disabled]="pagination.isFirst">
                    <span class="material-symbols-outlined">
                        first_page
                    </span>
                </button>
            </li>
            <li class="page-item" [ngClass]="{'disabled': pagination.isFirst}">
                <button class="page-link" (click)="pagination.prev()" [disabled]="pagination.isFirst">
                    <span class="material-symbols-outlined">
                        navigate_before
                    </span>
                </button>
            </li>
            @for (page of select_pages(pagination.totalPages); track page; let i = $index) {
            <li class="page-item">
                @if (isNumber(page)) {
                <button class="page-link" (click)="onPageChange(page+1)">
                    {{page+1}}
                </button>
                }
                @if (!isNumber(page)) {
                <button class="page-link">
                    {{page}}
                </button>
                }
            </li>
            }
            <li class="page-item" [ngClass]="{'disabled': pagination.isLast}">
                <button class="page-link" (click)="pagination.next()" [disabled]="pagination.isLast">
                    <span class="material-symbols-outlined">
                        navigate_next
                    </span>
                </button>
            </li>
            <li class="page-item" [ngClass]="{'disabled': pagination.isLast}">
                <button class="page-link" (click)="pagination.last()" [disabled]="pagination.isLast">
                    <span class="material-symbols-outlined">
                        last_page
                    </span>
                </button>
            </li>
        </ul>
        -->
        <!--
        <ul class="pagination pagination-sm">
            <li class="page-item" [ngClass]="{'disabled': pagination.isFirst}">
                <button class="page-link" (click)="pagination.first()" [disabled]="pagination.isFirst">
                    <span class="material-symbols-outlined">
                        first_page
                    </span>
                </button>
            </li>
            <li class="page-item" [ngClass]="{'disabled': pagination.isFirst}">
                <button class="page-link" (click)="pagination.prev()" [disabled]="pagination.isFirst">
                    <span class="material-symbols-outlined">
                        navigate_before
                    </span>
                </button>
            </li>
            <li class="page-item">
                <div class="input-group">
                    <input type="text" class="form-control" [formControl]="jump_to" submit="onPageChange(jump_to)">
                    <button class="page-link" type="button">Go</button>
                </div>
            </li>
            <li>
                <small>{{number_of_pages}}</small>
            </li>
            <li>
                <button class="page-link" type="button">Go</button>
            </li>
            <li class="page-item" [ngClass]="{'disabled': pagination.isLast}">
                <button class="page-link" (click)="pagination.next()" [disabled]="pagination.isLast">
                    <span class="material-symbols-outlined">
                        navigate_next
                    </span>
                </button>
            </li>
            <li class="page-item" [ngClass]="{'disabled': pagination.isLast}">
                <button class="page-link" (click)="pagination.last()" [disabled]="pagination.isLast">
                    <span class="material-symbols-outlined">
                        last_page
                    </span>
                </button>
            </li>
        </ul>
        -->
        <div class="mpdl-pagination float-xxl-end">
            <button type="button" class="btn btn-sm border border-0" (click)="pagination.first()"
                [disabled]="pagination.isFirst">
                <span class="material-symbols-outlined">
                    first_page
                </span>
            </button>
            <button type="button" class="btn btn-sm border border-0" (click)="pagination.prev()"
                [disabled]="pagination.isFirst">
                <span class="material-symbols-outlined">
                    navigate_before
                </span>
            </button>
            <span>Page</span>
            <input type="text" class="form-control mx-2" [formControl]="jump_to" [value]="jump_to.value"
                (keyup.enter)="jumpToPage()">
            <span>of {{number_of_pages}}</span>
            <button type="button" class="btn btn-sm border border-0" (click)="pagination.next()"
                [disabled]="pagination.isLast">
                <span class="material-symbols-outlined">
                    navigate_next
                </span>
            </button>
            <button type="button" class="btn btn-sm border border-0" (click)="pagination.last()"
                [disabled]="pagination.isLast">
                <span class="material-symbols-outlined">
                    last_page
                </span>
            </button>
            <select class="form-select" [formControl]="select_pages_2_display"
                (change)="pageSizeHandler($event)" size="1">
                @for (pages of pages_2_display; track pages) {
                <option [selected]="pages.value === 25" [value]="pages.value">{{pages.label}}</option>
                }
            </select>
        </div>
    </nav>
    <div class="col-xxl-3 d-none d-xxl-block">
    </div>

</div>
<div class="row">
    <div class="col-lg-9 col-sm-12">
        @if (result_list | async; as list) {
        <div class="card">
            <div class="card-header">
                <div class="form-check m-3">
                    <input #input [formControl]="select_all" class="form-check-input" type="checkbox" value=""
                        id="form_check" (change)="select_all_items($event)">
                    <label for="form_check"><small
                        [innerHTML]="input.checked ? deselectAll  : selectAll"></small></label>
                </div>
            </div>
            <div class="list-group list-group-flush">
                @for (item of list; track item; let last = $last) {
                <div class="list-group-item py-0">
                    <pure-item-list-element [item]="item" [last_item]="last"
                        [authenticated]="aa.isLoggedIn"></pure-item-list-element>
                </div>
                }
            </div>
        </div>
        }
    </div>
    <div class="col-lg-3 d-none d-lg-block">
        <div class="card mt-4">
            <div class="card-header">
            </div>
            <div class="card-body">
                facets or filters or whatever else ya wanna display here ...
            </div>
        </div>
    </div>
</div>
