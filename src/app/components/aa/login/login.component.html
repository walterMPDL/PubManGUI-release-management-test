<div class="modal-header">
  <h4 class="modal-title" id="modal-basic-title"><span class="material-symbols-outlined">login</span> Login</h4>
  <button type="button" class="btn-close" aria-label="Close" (click)="activeModal.dismiss('Cross click')"></button>
</div>


<form [formGroup]="loginForm" novalidate (ngSubmit)="login()">
<div class="modal-body">
  @if(errorMessage) {
    <div class="alert alert-danger" role="alert">
      {{ errorMessage }}
    </div>
  }
  @if(forcedLogout) {
    <div class="alert alert-warning" role="alert">
      Your login expired or is invalid. Please login again.
    </div>
  }

    <div class="form-group mb-2">
      <label for="inputUsername" class="form-label">Username</label>
      <input type="text" class="form-control" id="inputUsername" formControlName="username" placeholder="Enter username" data-test="username">
      <pure-validation-error [control]="loginForm.get('username')"/>
    </div>
    <div class="form-group mb-2">
      <label for="inputPassword" class="form-label">Password</label>
      <input type="password" class="form-control" id="inputPassword" formControlName="password" placeholder="Enter password" data-test="password">
        <pure-validation-error [control]="loginForm.get('password')"/>
    </div>

  @if(showPasswordChange) {
    <pure-change-password [username]="loginForm.get('username')?.value" [oneTimePassword]="loginForm.get('password')?.value" (passwordChanged)="passwordChanged($event)"/>
  }



</div>
<div class="modal-footer">
  @if (!showPasswordChange) {
    <button type="submit" class="btn btn-primary btn-sm border-2" data-test="sign-in">Sign In</button>
  }

</div>

</form>



